# main ansible execution environment
# This is typically the developer container that comes with this repo
controller:
  hosts:
    localhost:
      ansible_connection: local
  vars:
    ansible_user: "{{ lookup('env', 'USER') }}"

# this section lists the BMC DNS name for each turing pi
turing_pis:
  hosts:
    turingpi:
      nodes_group: tp1_nodes
  vars:
    ansible_user: "{{ tpi_user }}"

# this section lists the nodes, grouped by their turing pi.
# types can be pi4 and rk1 at present
all_nodes:
  children:
    tp1_nodes:
      hosts:
        node01:
          slot_num: 1
          type: pi4
        node02:
          slot_num: 2
          type: rk1
          root_dev: /dev/nvme0n1 # moves the root fs to the nvme drive
        node03:
          slot_num: 3
          type: rk1
      vars:
        tp_name: turingpi
    # example second turing pi
    #  tp2_nodes:
    #    hosts:
    #      node05:
    #        slot_num: 1
    #        type: rk1
    #    vars:
    #      tp_name: turingpi2

    # Extra nodes not in a turing pi but to include in the cluster.
    # Must have had an OS installed on them manually and pb_add_nodes.yml run.
    extra_nodes:
      hosts:
        nuc1:
        nuc2:
  # variables shared by all nodes in all turing pi groups
  vars:
    control_plane: node01 # this is single control plan setup only
    ansible_user: "{{ ansible_account }}"
